<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Ajax Loading Indicator using jQuery</title>
<style>
body { background:#fafafa; }
.container {
	width: 800px;
	border: 1px solid #C4CDE0;
	border-radius: 2px;
	margin: 0 auto;
	height: 400px;
	background:#fff;
	padding-left:10px;
}
.button { background:#090; color:#fff; font-size:16px; font-weight:bold; padding:3px 6px; text-decoration:none; cursor:pointer; } 
</style>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
	function ajaxindicatorstart(text)
	{
		if(jQuery('body').find('#resultLoading').attr('id') != 'resultLoading'){
		jQuery('body').append('<div id="resultLoading" style="display:none"><div><img src="ajax-loader.gif"><div>'+text+'</div></div><div class="bg"></div></div>');
		}
		
		jQuery('#resultLoading').css({
			'width':'100%',
			'height':'100%',
			'position':'fixed',
			'z-index':'10000000',
			'top':'0',
			'left':'0',
			'right':'0',
			'bottom':'0',
			'margin':'auto'
		});	
		
		jQuery('#resultLoading .bg').css({
			'background':'#000000',
			'opacity':'0.7',
			'width':'100%',
			'height':'100%',
			'position':'absolute',
			'top':'0'
		});
		
		jQuery('#resultLoading>div:first').css({
			'width': '250px',
			'height':'75px',
			'text-align': 'center',
			'position': 'fixed',
			'top':'0',
			'left':'0',
			'right':'0',
			'bottom':'0',
			'margin':'auto',
			'font-size':'16px',
			'z-index':'10',
			'color':'#ffffff'
			
		});

	    jQuery('#resultLoading .bg').height('100%');
        jQuery('#resultLoading').fadeIn(300);
	    jQuery('body').css('cursor', 'wait');
	}

	function ajaxindicatorstop()
	{
	    jQuery('#resultLoading .bg').height('100%');
        jQuery('#resultLoading').fadeOut(300);
	    jQuery('body').css('cursor', 'default');
	}
	
	function callAjax()
	{
		jQuery.ajax({
			type: "GET",
			url: "fetch_data.php",
			cache: false,
			success: function(res){
					jQuery('#ajaxcontent').html(res);
			}
		});
	}
	
  jQuery(document).ajaxStart(function () {
   		//show ajax indicator
		ajaxindicatorstart('loading data.. please wait..');
  }).ajaxStop(function () {
		//hide ajax indicator
		ajaxindicatorstop();
  });
</script>
</head>

<body>
<div class="container">
<center><script type="text/javascript"><!--
google_ad_client = "ca-pub-5104998679826243";
/* mysite_indivi */
google_ad_slot = "0527018651";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>
<h1>Ajax loading Indicator using JQuery - w3lessons.info</h1>

<a href="javascript:;" class="button" onclick="callAjax();">Call Ajax</a>

<p id="ajaxcontent"></p>

</div>

<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=itzurkarthi"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'dark', 
    'follow' : {
      'services' : [
        {'service': 'facebook', 'id': 'w3lessons.info'},
        {'service': 'twitter', 'id': 'itzurkarthi'},
        {'service': 'linkedin', 'id': 'itzurkarthi'},
        {'service': 'google_follow', 'id': '100211765980263169317'},
        {'service': 'vimeo', 'id': 'itzurkarthi'},
        {'service': 'pinterest', 'id': 'itzurkarthi'},
        {'service': 'tumblr', 'id': 'w3lessons'},
        {'service': 'rss', 'id': 'http://w3lessons.info/feed'}
      ]
    },  
    'whatsnext' : {},  
    'recommended' : {
      'title': 'Recommended for you:'
    } 
  });
</script>
<!-- AddThis Smart Layers END -->


<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_floating_style addthis_counter_style" style="left:10px;top:150px;">
<a class="addthis_button_facebook_like" fb:like:layout="box_count"></a>
<a class="addthis_button_tweet" tw:count="vertical"></a>
<a class="addthis_button_google_plusone" g:plusone:size="tall"></a>
<a class="addthis_counter"></a>
</div>
<center>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5104998679826243";
/* footer */
google_ad_slot = "7568359776";
google_ad_width = 970;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<p style="font-size:12px;">
  <center>
    <a href="http://w3lessons.info">by Karthikeyan K</a>
  </center>
</p>
</body>
</html>
